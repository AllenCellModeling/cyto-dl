# @package _global_

# to execute this experiment run:
# python train.py experiment=example

defaults:
  - override /datamodule: nucseg-hist.yaml
  - override /model: embedseg.yaml
  - override /trainer: gpu.yaml

# datamodule.columns:
#   - source

# all parameters below will be merged with parameters from default configurations set above
# this allows you to overwrite only specified parameters

experiment_name: embedseg_BF-nuc
run_name: lamin-predict
mode: predict

tags: ["dev"]
source_col: 'source'
target_col: 'target'
seed: 12345

model:
  patch_shape: [30, 512, 512]
  save_dir: /allen/aics/assay-dev/computational/data/nucleus_tracking/lamin/predict_hist_v2

ckpt_path: /allen/aics/assay-dev/users/Filip/Projects/aics_im2im/aics-im2im/logs/train/runs/embedseg_BF-nuc/mistogram_match/2023-02-10_16-31-56/ckpts/last.ckpt
datamodule:
  path: /allen/aics/assay-dev/computational/data/nucleus_tracking/lamin/manifest/
  batch_size: 1

sliding_window_fns:
  process_fn:
    _target_: src.utils.expand_2d_to_3d
    _partial_: True
  postprocess_fn:
    _target_: src.utils.extract_best_z
    _partial_: True