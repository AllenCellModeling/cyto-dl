_target_: cyto_dl.datamodules.track_classification.TrackClassificationDatamodule

csv_path: //allen/aics/assay-dev/users/Benji/CurrentProjects/breakdown_classifier_cyto_dl/data

batch_size: 16
num_workers: 16
pin_memory: True
shuffle: True


augmentations:
  train:
    _target_: monai.transforms.Compose
    transforms:
      # dataset is loaded into track images
      - _target_: cyto_dl.image.transforms.track_transforms.WindowCrop
        num_samples: 16
      - _target_: monai.transforms.ToTensord
        keys: 'img'
        dtype: float16
      - _target_: monai.transforms.RandShiftIntensityd
        keys: 'img'
        offsets: 3
        prob: 0.5
      - _target_: monai.transforms.RandScaleIntensityd
        keys: 'img'
        factors: 0.5
        prob: 0.5
      - _target_: monai.transforms.RandFlipd
        keys: 'img'
        prob: 0.5
        spatial_axis: 0
      - _target_: monai.transforms.RandFlipd
        keys: 'img'
        prob: 0.5
        spatial_axis: 1
      - _target_: monai.transforms.RandRotate90d
        keys: 'img'
        prob: 0.75
      - _target_: monai.transforms.RandAdjustContrastd
        keys: 'img'
        gamma: [0.8, 1.2]
        prob: 0.5
  val:
    _target_: monai.transforms.Compose
    transforms:
      # dataset is loaded into track images
      - _target_: cyto_dl.image.transforms.track_transforms.WindowCrop
        num_samples: -1
      - _target_: monai.transforms.ToTensord
        keys: 'img'
        dtype: float16

  predict: 
    _target_: monai.transforms.Compose
    transforms:
      - _target_: monai.transforms.ToTensord
        keys: 'img'
        dtype: float16
      